<!-- chat-app.component.html -->
<div class="chat-window">
    <!-- Chat Header -->
    <div class="has-text-centered px-3 py-3 card has-background-primary-10">
      <h5 class="title is-5 has-text-white">{{ userName }}</h5>
    </div>
  
    <!-- Chat Body -->
    <div class="chat-body">
      <!-- Loop through messages -->
      <div *ngFor="let message of messages" [ngClass]="{'chat-message': true, 'left': message.side === 'left', 'right': message.side === 'right'}">
        
          <img src="assets/profile-pic.png" class="mr-2 ml-2" alt="profile" style="height: 24px; width: auto;">
     
        <div class="content" [ngClass]="{'has-background-primary has-text-white': message.side === 'right'}">
          <button class="button is-small is-text" (click)="clickReplayMessage(message.msgId, message.text)">
            <span class="icon pr-1">
              <i class="fas fa-reply"></i>
            </span>
            <span>Replay</span>
          </button>
          <!-- If preview is there -->
           <div class="preview-msg px-2 py-2" *ngIf="message.hasPreview">
            <h6 class="is-size-7 has-text-info has-text-weight-bold">{{message.replayedBy}}</h6>
            <p class="has-text-dark">{{message.replayedContent}}</p>
           </div>
          <p>
            <span>{{ message.text }}</span>
          </p>
        </div>
        <time>{{ message.time }}</time>
      </div>
    </div>

    <!-- Preview of the reply message -->
  <div class="box" *ngIf="showPreviewMessage">
    <article class="media">
      <div class="media-content">
        <div class="content">
          <p>
            <span><strong>Replying to: </strong> {{replayingToPreviewMsg}}</span>
          </p>
        </div>
      </div>
      <div class="media-right">
        <button class="delete" (click)="closePreview()"></button>
      </div>
    </article>
  </div>
  
    <!-- Chat Footer -->
    <div class="columns mb-2 ml-2 mr-2 line is-white">
      <div class="column is-four-fifths">
        <input type="text" class="input" role="text" placeholder="Enter your message here. . ." />
      </div>
      <div class="column">
        <p class="buttons ">
          <button class="button has-background-primary-20 has-text-white">
            <span class="icon is-small is-rounded ">
              <i class="fas fa-paper-plane"></i>
            </span>
            <span>Send</span>
          </button>
        </p>
      </div>
    </div>
  </div>
  