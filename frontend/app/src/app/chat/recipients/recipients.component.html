<div>
    <div class="rec-box box">
        <div class="list-headding has-text-white">
            <h5 class="is-size-7 is-uppercase has-text-centered has-text-weight-bold"
                style="color: var(--theme-color);">Chat History</h5>
        </div>

        <div class="recipient-list">
            <div class="recipient-row card" *ngFor="let receipient of recipientList"
                (click)="selectRecipient(receipient.id)"
                [ngClass]="(selectedRecipient === receipient.id)? 'has-background-primary-20 has-text-white': ''">
                <div class="group">
                    <div class="profile-pic" [title]="receipient.status" style="cursor: pointer;">
                        <img src="assets/profile-pic.png" alt="Profie Pic">
                        <span class="status-icon" [ngClass]="receipient.status"></span>
                    </div>
                    <div class="name-preview res-name-preview">
                        <span class="name">{{ receipient.fullName }}</span>
                        <span class="preview-message">{{ receipient.msgPreview }}</span>
                    </div>
                </div>
                <div class="date">{{ receipient.time }}</div>
                <!-- <div class="name-responsive is-size-7">{{ receipient.fullName }}</div> -->
            </div>
        </div>

        <!-- Available User where chat history not yet create -->
        <div class="list-headding has-text-white">
            <h5 class="is-size-7 is-uppercase has-text-centered has-text-weight-bold" style="color: var(--theme-color);"
            *ngIf="(availableUserList$ | async)?.length; else noAvilableUsers">
                Available Users
            </h5>
            <ng-template #noAvilableUsers>
                <div class="card px-2 py-2 mt-2 mb-2 has-text-centered is-size-7 is-uppercase has-text-centered has-text-weight-bold">No Available users</div>  
            </ng-template>

        </div>

        <div class="recipient-list">
            <div class="recipient-row card" *ngFor="let avilableUser of availableUserList$ | async"
                (click)="createChatHistory(avilableUser)">
                <div class="group">
                    <div class="profile-pic" [title]="avilableUser.userStatus" style="cursor: pointer;">
                        <img src="assets/profile-pic.png" alt="Profie Pic">
                        <span class="status-icon" [ngClass]="avilableUser.userStatus"></span>
                    </div>
                    <div class="name-preview res-name-preview">
                        <span class="name">{{ avilableUser.fullName }}</span>
                        <span class="preview-message">{{ avilableUser.userName }}</span>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>